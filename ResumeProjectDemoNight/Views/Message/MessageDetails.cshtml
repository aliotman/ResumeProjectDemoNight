@model ResumeProjectDemoNight.Entities.Message

@{
    ViewData["Title"] = "Mesaj Detayı";
    Layout = "~/Views/AdminLayout/Index.cshtml";
}

<div class="flex-1 overflow-y-auto p-8">
    <div class="max-w-4xl mx-auto">
        <!-- Header -->
        <div class="mb-8">
            <div class="flex items-center gap-3 mb-2">
                <a href="@Url.Action("MessageList")" class="p-2 hover:bg-gray-800 rounded-lg transition-colors">
                    <span class="material-symbols-outlined text-gray-400">arrow_back</span>
                </a>
                <h2 class="text-2xl font-bold text-white">Mesaj Detayı</h2>
            </div>
            <p class="text-gray-400 text-sm ml-14">Mesajın tüm detaylarını görüntüleyin</p>
        </div>

        <!-- Message Status Badge -->
        <div class="mb-6">
            @if (Model.IsRead)
            {
                <span class="inline-flex items-center gap-2 px-4 py-2 bg-gray-700/50 rounded-lg text-gray-300 text-sm">
                    <span class="material-symbols-outlined text-lg">check_circle</span>
                    Okundu
                </span>

                <a href="/Message/ChangeIsRead/@Model.MessageId"
                   class="btn btn-primary ml-3 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors text-sm font-medium">
                    Okunmadı Olarak İşaretle
                </a>
            }
            else
            {
                <span class="inline-flex items-center gap-2 px-4 py-2 bg-blue-500/10 rounded-lg text-blue-400 text-sm">
                    <span class="material-symbols-outlined text-lg">mark_email_unread</span>
                    Okunmadı
                </span>

                <a href="/Message/ChangeIsRead/@Model.MessageId"
                   class="btn btn-primary ml-3 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors text-sm font-medium">
                    Okundu Olarak İşaretle
                </a>
            }
        </div>

        <!-- Sender Information Card -->
        <div class="bg-card-dark rounded-xl p-6 border border-gray-800 mb-6">
            <h3 class="text-white font-semibold text-lg mb-4 flex items-center gap-2">
                <span class="material-symbols-outlined text-primary">person</span>
                Gönderen Bilgileri
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <p class="text-gray-500 text-xs mb-1">Ad Soyad</p>
                    <p class="text-white font-medium text-lg">@Model.NameSurname</p>
                </div>
                <div>
                    <p class="text-gray-500 text-xs mb-1">E-posta</p>
                    <a href="mailto:@Model.Email" class="text-primary hover:text-blue-400 font-medium text-lg transition-colors flex items-center gap-2">
                        @Model.Email
                        <span class="material-symbols-outlined text-base">open_in_new</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Subject Card -->
        <div class="bg-card-dark rounded-xl p-6 border border-gray-800 mb-6">
            <h3 class="text-white font-semibold text-lg mb-4 flex items-center gap-2">
                <span class="material-symbols-outlined text-primary">subject</span>
                Konu
            </h3>
            <p class="text-white text-xl">@Model.Subject</p>
        </div>

        <!-- Message Content Card -->
        <div class="bg-card-dark rounded-xl p-6 border border-gray-800 mb-6">
            <h3 class="text-white font-semibold text-lg mb-4 flex items-center gap-2">
                <span class="material-symbols-outlined text-primary">message</span>
                Mesaj İçeriği
            </h3>
            <div class="bg-background-dark rounded-lg p-4 border border-gray-700">
                <p class="text-gray-300 text-base leading-relaxed whitespace-pre-wrap">@Model.MessageDetail</p>
            </div>
            <div class="mt-3 text-right">
                <span class="text-gray-500 text-xs">@Model.MessageDetail.Length karakter</span>
            </div>
        </div>

        <!-- Meta Information Card -->
        <div class="bg-card-dark rounded-xl p-6 border border-gray-800">
            <h3 class="text-white font-semibold text-lg mb-4 flex items-center gap-2">
                <span class="material-symbols-outlined text-primary">info</span>
                Mesaj Bilgileri
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="flex items-start gap-3">
                    <div class="size-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0">
                        <span class="material-symbols-outlined text-primary text-xl">tag</span>
                    </div>
                    <div>
                        <p class="text-gray-500 text-xs mb-1">Mesaj ID</p>
                        <p class="text-white font-medium">#@Model.MessageId</p>
                    </div>
                </div>
                <div class="flex items-start gap-3">
                    <div class="size-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0">
                        <span class="material-symbols-outlined text-primary text-xl">schedule</span>
                    </div>
                    <div>
                        <p class="text-gray-500 text-xs mb-1">Gönderim Tarihi</p>
                        <p class="text-white font-medium">@Model.SendDate.ToString("dd MMMM yyyy")</p>
                        <p class="text-gray-400 text-sm">@Model.SendDate.ToString("HH:mm")</p>
                    </div>
                </div>
                <div class="flex items-start gap-3">
                    <div class="size-10 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0">
                        <span class="material-symbols-outlined text-primary text-xl">visibility</span>
                    </div>
                    <div>
                        <p class="text-gray-500 text-xs mb-1">Durum</p>
                        <p class="text-white font-medium">@(Model.IsRead ? "Okundu" : "Okunmadı")</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Back Button -->
        <div class="mt-8 flex justify-center">
            <a href="@Url.Action("MessageList")"
               class="px-8 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors font-medium flex items-center gap-2">
                <span class="material-symbols-outlined text-lg">arrow_back</span>
                Mesajlara Dön
            </a>
        </div>
    </div>
</div>
